<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/vaadin-grid/vaadin-grid.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">


<dom-module id="datasource-list">
    <style>
        paper-card {
            margin: 20px;
            width: 100%;
            top: 20px;
        }
    </style>

    <template>
        <paper-card heading="DATA SOURCES" elevation="3">
            <div class="card-content">
            <vaadin-grid items={{items}} id="grid">
                <table>
                    <colgroup>
                        <col name="name"/>
                        <col name="numOfFormulas"/>
                        <col name="contact.name"/>
                    </colgroup>
                </table>
            </vaadin-grid>
            </div>
        </paper-card>
    </template>

    <script>
        Polymer({
            is: 'datasource-list',

            properties: {
                items: {
                    type: Array,
                },
                // The selection event happen here, so this component need to be able to 
                // pass the data upward to its parent, especial the information about which item
                // that have been selected. set 'notify' --> true.
                selected: {
                    type: Number,
                    notify: true
                }
            },

            // When this component is loaded. Register event listener on grid
            ready: function(){
                var grid = this.$.grid;
                grid.addEventListener('selected-items-changed', function(){
                    this.selected = grid.selection.selected();
                    console.log('selected --> ' + this.selected);
                }.bind(this));
              }


        });
    </script>
</dom-module>